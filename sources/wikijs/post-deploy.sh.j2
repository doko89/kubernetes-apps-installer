#!/bin/bash
set -e

echo "ğŸ”„ Waiting for Wiki.js to be ready..."
kubectl wait --for=condition=available deployment/wikijs -n {{ namespace }} --timeout=300s

echo "âœ… Wiki.js deployment completed!"
echo "ğŸŒ Access Wiki.js at: https://{{ ingress.host }}"
echo ""
echo "âš ï¸ Note: You need to create the database secret before Wiki.js can connect to the database:"
echo "kubectl create secret generic {{ database.secretName }} --from-literal=password=YOUR_PASSWORD -n {{ namespace }}"